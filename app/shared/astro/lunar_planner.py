"""Ð¡ÐµÑ€Ð²Ð¸Ñ Ð»ÑƒÐ½Ð½Ð¾Ð³Ð¾ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´ÐµÐ» Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹."""

from __future__ import annotations

from dataclasses import dataclass
from datetime import date, datetime, time, timedelta, timezone
from math import cos, radians
from typing import Dict, List, Sequence

from flatlib import const  # type: ignore[import]

from app.shared.astro.ephemeris import EphemerisService, ephemeris_service

try:
    from zoneinfo import ZoneInfo
except ModuleNotFoundError:  # pragma: no cover
    ZoneInfo = None  # type: ignore[assignment]


@dataclass(slots=True, frozen=True)
class PhaseDefinition:
    key: str
    emoji: str
    title: str
    energy: str
    description: str


@dataclass(slots=True, frozen=True)
class SignDefinition:
    key: str
    emoji: str
    title: str
    element: str
    focus: str
    vibe: str
    recommended: str
    caution: str


@dataclass(slots=True, frozen=True)
class PhaseAdvice:
    score: int
    rating: str
    text: str
    caution: str | None = None


@dataclass(slots=True, frozen=True)
class ActionDefinition:
    slug: str
    emoji: str
    title: str
    summary: str
    categories: Sequence[str]
    premium_only: bool
    phase_advice: Dict[str, PhaseAdvice]


@dataclass(slots=True, frozen=True)
class DayContext:
    date: date
    phase: PhaseDefinition
    moon_sign: SignDefinition
    illumination: int
    angle: float


@dataclass(slots=True, frozen=True)
class ActionSuggestion:
    action: ActionDefinition
    advice: PhaseAdvice


PHASES: Dict[str, PhaseDefinition] = {
    "new_moon": PhaseDefinition(
        key="new_moon",
        emoji="ðŸŒ‘",
        title="ÐÐ¾Ð²Ð¾Ð»ÑƒÐ½Ð¸Ðµ",
        energy="Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸Ð¹",
        description="Ð›ÑƒÑ‡ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ñ†ÐµÐ»ÐµÐ¹, Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ†Ð¸ÐºÐ»Ð° Ð¸ Ð¼ÑÐ³ÐºÐ¾Ð³Ð¾ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð².",
    ),
    "waxing_crescent": PhaseDefinition(
        key="waxing_crescent",
        emoji="ðŸŒ’",
        title="Ð Ð°ÑÑ‚ÑƒÑ‰Ð¸Ð¹ ÑÐµÑ€Ð¿",
        energy="Ð½Ð°Ð±Ð¾Ñ€ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸ Ð¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð´ÐµÐ¹",
        description="Ð­Ð½ÐµÑ€Ð³Ð¸Ñ Ñ€Ð°ÑÑ‚Ñ‘Ñ‚: Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹, Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ð½Ð°Ð±Ñ€Ð¾ÑÐºÐ°Ð¼Ð¸ Ð¸ Ð¸Ñ‰Ð¸Ñ‚Ðµ ÑÐ¾ÑŽÐ·Ð½Ð¸ÐºÐ¾Ð².",
    ),
    "first_quarter": PhaseDefinition(
        key="first_quarter",
        emoji="ðŸŒ“",
        title="ÐŸÐµÑ€Ð²Ð°Ñ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ñ‚ÑŒ",
        energy="Ð½Ð°Ð¿Ð¾Ñ€ Ð¸ Ð¿Ñ€ÐµÐ¾Ð´Ð¾Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ð¹",
        description="Ð¤Ð°Ð·Ð° Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑÐ¼ÐµÐ»Ñ‹Ñ… Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹, Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² Ð¸ Ñ‡Ñ‘Ñ‚ÐºÐ¾Ð³Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹.",
    ),
    "waxing_gibbous": PhaseDefinition(
        key="waxing_gibbous",
        emoji="ðŸŒ”",
        title="Ð Ð°ÑÑ‚ÑƒÑ‰Ð°Ñ Ð»ÑƒÐ½Ð°",
        energy="Ð´Ð¾Ð²Ð¾Ð´ÐºÐ° Ð¸ ÐºÐ°Ð»Ð¸Ð±Ñ€Ð¾Ð²ÐºÐ°",
        description="ÐŸÐ¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ ÑˆÐ»Ð¸Ñ„Ð¾Ð²ÐºÐ¸ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹, Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ¸ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¹ Ð¸ Ð¾Ñ‚Ñ‚Ð°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð².",
    ),
    "full_moon": PhaseDefinition(
        key="full_moon",
        emoji="ðŸŒ•",
        title="ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ",
        energy="Ð¿Ð¸ÐºÐ¾Ð²Ð°Ñ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸",
        description="ÐŸÐ¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¹, ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹, Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ¹ Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ²ÑÐ·Ð¸.",
    ),
    "waning_gibbous": PhaseDefinition(
        key="waning_gibbous",
        emoji="ðŸŒ–",
        title="Ð£Ð±Ñ‹Ð²Ð°ÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð°",
        energy="Ð°Ð½Ð°Ð»Ð¸Ð· Ð¸ Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ðµ",
        description="Ð¡Ð°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹, Ð¿Ñ€Ð¾Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ ÑƒÐºÑ€ÐµÐ¿Ð¸Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹.",
    ),
    "last_quarter": PhaseDefinition(
        key="last_quarter",
        emoji="ðŸŒ—",
        title="ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ñ‚ÑŒ",
        energy="Ð¿ÐµÑ€ÐµÑÐ¼Ð¾Ñ‚Ñ€ Ð¸ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸",
        description="Ð¡Ð²ÐµÑ€ÑÐµÐ¼ Ð¿Ð»Ð°Ð½Ñ‹ Ñ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ, Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹ Ð¸ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÐ¼ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð².",
    ),
    "waning_crescent": PhaseDefinition(
        key="waning_crescent",
        emoji="ðŸŒ˜",
        title="Ð¡Ñ‚Ð°Ñ€ÐµÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð°",
        energy="Ð¾Ñ‚Ð¿ÑƒÑÐºÐ°Ð½Ð¸Ðµ Ð¸ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ",
        description="Ð¤Ð¾ÐºÑƒÑ Ð½Ð° Ð¾Ñ‚Ð´Ñ‹Ñ…Ðµ, Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ð¸ Ð´ÐµÐ», Ñ€Ð¸Ñ‚ÑƒÐ°Ð»Ð°Ñ… Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ð¸Ñ Ð¸ Ð¼ÑÐ³ÐºÐ¾Ð¹ Ñ€ÐµÑ‚Ñ€Ð¾ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ðµ.",
    ),
}


SIGN_DEFINITIONS: Sequence[SignDefinition] = (
    SignDefinition(
        "aries",
        "â™ˆ",
        "ÐžÐ²ÐµÐ½",
        "Ð¾Ð³Ð¾Ð½ÑŒ",
        "ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ ÑÐ¼ÐµÐ»Ñ‹Ðµ ÑÑ‚Ð°Ñ€Ñ‚Ñ‹, ÑÐ¿Ð¾Ñ€Ñ‚ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð½Ð° Ð¸Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ð¸.",
        "ÐŸÐ¾Ð²Ñ‹ÑˆÐ°ÐµÑ‚ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ð¾ÑÑ‚ÑŒ, Ð¿Ð¾Ð±ÑƒÐ¶Ð´Ð°ÐµÑ‚ Ð¿Ñ€Ð¾ÑÐ²Ð»ÑÑ‚ÑŒ ÑÐµÐ±Ñ Ð¸ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ.",
        "Ð—Ð°Ð¿ÑƒÑÐºÐ°Ð¹Ñ‚Ðµ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹, Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð»Ð¸Ð´ÐµÑ€ÑÑ‚Ð²Ð¾, Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸.",
        "ÐÐµ ÑÐ¿Ð¾Ñ€ÑŒÑ‚Ðµ Ð½Ð° ÑÐ¼Ð¾Ñ†Ð¸ÑÑ…, Ð´Ð°Ð¹Ñ‚Ðµ ÑÐµÐ±Ðµ Ð¿Ð°ÑƒÐ·Ñ‹ Ð¿ÐµÑ€ÐµÐ´ Ð²Ð°Ð¶Ð½Ñ‹Ð¼Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð°Ð¼Ð¸.",
    ),
    SignDefinition(
        "taurus",
        "â™‰",
        "Ð¢ÐµÐ»ÐµÑ†",
        "Ð·ÐµÐ¼Ð»Ñ",
        "Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ Ð´Ð»Ñ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð², ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹, Ð´Ð¾Ð»Ð³Ð¾ÑÑ€Ð¾Ñ‡Ð½Ñ‹Ñ… Ð²Ñ‹Ð±Ð¾Ñ€Ð¾Ð² Ð¸ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸Ð¹ Ñ‚ÐµÐ»Ð°.",
        "Ð—ÐµÐ¼Ð»ÑÐµÑ‚ Ð¸ Ð·Ð°ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾ÑÐ½Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð½Ð¾ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ.",
        "Ð Ð°Ð±Ð¾Ñ‚Ð°Ð¹Ñ‚Ðµ Ñ Ð±ÑŽÐ´Ð¶ÐµÑ‚Ð¾Ð¼, Ð·Ð°Ð¹Ð¼Ð¸Ñ‚ÐµÑÑŒ Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°Ð¼Ð¸, ÑƒÐ»ÑƒÑ‡ÑˆÐ°Ð¹Ñ‚Ðµ Ð±Ñ‹Ñ‚.",
        "Ð˜Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ ÑƒÐ¿Ñ‘Ñ€Ñ‚Ð¾ÑÑ‚Ð¸: Ð½Ðµ Ñ‚ÑÐ½Ð¸Ñ‚Ðµ Ñ Ñ€ÐµÑˆÐµÐ½Ð¸ÑÐ¼Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð·-Ð·Ð° ÑÑ‚Ñ€Ð°Ñ…Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½.",
    ),
    SignDefinition(
        "gemini",
        "â™Š",
        "Ð‘Ð»Ð¸Ð·Ð½ÐµÑ†Ñ‹",
        "Ð²Ð¾Ð·Ð´ÑƒÑ…",
        "ÐÐºÑ†ÐµÐ½Ñ‚ Ð½Ð° ÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¸, Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ð¸, ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ðµ Ð¸ Ð½ÐµÑ‚Ð²Ð¾Ñ€ÐºÐ¸Ð½Ð³Ðµ.",
        "Ð£ÑÐºÐ¾Ñ€ÑÐµÑ‚ Ð¾Ð±Ð¼ÐµÐ½ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÐµÐ¹, Ð´ÐµÐ»Ð°ÐµÑ‚ Ð´ÐµÐ½ÑŒ Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ð½Ñ‹Ð¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ñ‡Ð¸Ð²Ñ‹Ð¼.",
        "ÐŸÑ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚Ðµ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸, Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ð¸Ð´ÐµÑÐ¼Ð¸, Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐ¹Ñ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚, ÑƒÑ‡Ð¸Ñ‚ÐµÑÑŒ Ð½Ð¾Ð²Ð¾Ð¼Ñƒ.",
        "Ð¡Ð»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ñ€Ð°ÑÑÐµÑÐ½Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ Ð¿Ð¾Ð²ÐµÑ€Ñ…Ð½Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒÑŽ: Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ Ñ„Ð°ÐºÑ‚Ñ‹ Ð´Ð²Ð°Ð¶Ð´Ñ‹.",
    ),
    SignDefinition(
        "cancer",
        "â™‹",
        "Ð Ð°Ðº",
        "Ð²Ð¾Ð´Ð°",
        "ÐŸÐ¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð¹Ñ‚Ðµ Ñ Ð´Ð¾Ð¼Ð¾Ð¼, ÑÐµÐ¼ÑŒÑ‘Ð¹, Ð·Ð°Ð±Ð¾Ñ‚Ð¾Ð¹ Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼Ð¸.",
        "Ð£Ð³Ð»ÑƒÐ±Ð»ÑÐµÑ‚ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ñ‚ÑÐ½ÐµÑ‚ Ð² Ð·Ð¾Ð½Ñƒ ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð° Ð¸ ÑÐµÐ¼ÐµÐ¹Ð½Ñ‹Ñ… Ð´ÐµÐ».",
        "Ð—Ð°Ð¹Ð¼Ð¸Ñ‚ÐµÑÑŒ Ð´Ð¾Ð¼Ð¾Ð¼, Ð·Ð°Ð±Ð¾Ñ‚Ð¾Ð¹ Ð¾ Ð±Ð»Ð¸Ð·ÐºÐ¸Ñ…, ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ñ‚ÐµÑ€Ð°Ð¿Ð¸ÐµÐ¹ Ð¸ Ñ€ÐµÑ‚Ñ€Ð¾ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ð¾Ð¹.",
        "ÐÐµ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¸Ð· Ð¸Ð·Ð»Ð¸ÑˆÐ½ÐµÐ¹ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸, Ð¸Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ Ð¿Ð°ÑÑÐ¸Ð²Ð½Ð¾Ð¹ Ð¾Ð±Ð¸Ð´Ñ‹.",
    ),
    SignDefinition(
        "leo",
        "â™Œ",
        "Ð›ÐµÐ²",
        "Ð¾Ð³Ð¾Ð½ÑŒ",
        "Ð’Ñ€ÐµÐ¼Ñ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸, Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð°, Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ð±Ñ€ÐµÐ½Ð´Ð° Ð¸ Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¸ÐºÐ¾Ð².",
        "ÐŸÐ¾Ð´Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ, Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ Ð¿Ñ€Ð¾ÑÐ²Ð¸Ñ‚ÑŒ Ñ…Ð°Ñ€Ð¸Ð·Ð¼Ñƒ Ð¸ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ.",
        "ÐŸÑ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚Ðµ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸, ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ ÑÑ€ÐºÐ¸Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚, Ð¾Ñ‚Ð¼ÐµÑ‡Ð°Ð¹Ñ‚Ðµ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ.",
        "ÐÐµ Ð¿ÐµÑ€ÐµÐ³Ð¸Ð±Ð°Ð¹Ñ‚Ðµ Ñ Ð´Ñ€Ð°Ð¼Ð¾Ð¹ Ð¸ ÑÐ³Ð¾Ñ†ÐµÐ½Ñ‚Ñ€Ð¸Ð·Ð¼Ð¾Ð¼, Ð´ÐµÑ€Ð¶Ð¸Ñ‚Ðµ Ð±Ð°Ð»Ð°Ð½Ñ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ðº Ð´Ñ€ÑƒÐ³Ð¸Ð¼.",
    ),
    SignDefinition(
        "virgo",
        "â™",
        "Ð”ÐµÐ²Ð°",
        "Ð·ÐµÐ¼Ð»Ñ",
        "Ð¤Ð¾ÐºÑƒÑ Ð½Ð° ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ…, Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐµ, Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¼ ÑÐµÑ€Ð²Ð¸ÑÐµ.",
        "Ð”ÐµÐ»Ð°ÐµÑ‚ Ð¼Ñ‹ÑÐ»Ð¸ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¼Ð¸, ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¸Ð²ÐµÑÑ‚Ð¸ Ð²ÑÑ‘ Ð² Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº.",
        "ÐÐ°Ð²Ð¾Ð´Ð¸Ñ‚Ðµ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº, Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹, Ð·Ð°Ð±Ð¾Ñ‚ÑŒÑ‚ÐµÑÑŒ Ð¾ Ñ‚ÐµÐ»Ðµ Ð¸ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ.",
        "ÐÐµ Ð·Ð°Ñ†Ð¸ÐºÐ»Ð¸Ð²Ð°Ð¹Ñ‚ÐµÑÑŒ Ð½Ð° ÐºÑ€Ð¸Ñ‚Ð¸ÐºÐµ Ð¸ Ð¼ÐµÐ»Ð¾Ñ‡Ð°Ñ…, Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¼ÐµÑÑ‚Ð¾ Ð´Ð»Ñ Ð³Ð¸Ð±ÐºÐ¾ÑÑ‚Ð¸.",
    ),
    SignDefinition(
        "libra",
        "â™Ž",
        "Ð’ÐµÑÑ‹",
        "Ð²Ð¾Ð·Ð´ÑƒÑ…",
        "Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ³Ð¾Ð²Ð¾Ñ€Ð¾Ð², Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€ÑÑ‚Ð², ÑÑÑ‚ÐµÑ‚Ð¸ÐºÐ¸ Ð¸ PR.",
        "Ð”ÐµÐ»Ð°ÐµÑ‚ ÑƒÐ¿Ð¾Ñ€ Ð½Ð° Ð±Ð°Ð»Ð°Ð½Ñ, ÐºÑ€Ð°ÑÐ¾Ñ‚Ñƒ Ð¸ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ñ Ð»ÑŽÐ´ÑŒÐ¼Ð¸.",
        "ÐžÐ±ÑÑƒÐ¶Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€ÑÑ‚Ð²Ð°, Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚Ðµ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸, Ð·Ð°Ð½Ð¸Ð¼Ð°Ð¹Ñ‚ÐµÑÑŒ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¾Ð¼ Ð¸ PR.",
        "ÐÐµ Ð·Ð°Ñ‚ÑÐ³Ð¸Ð²Ð°Ð¹Ñ‚Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ñ€Ð°Ð´Ð¸ Â«Ð²ÑÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð¸Ñ‚ÑŒÂ», Ð¸Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ Ð¿Ð°ÑÑÐ¸Ð²Ð½Ð¾ÑÑ‚Ð¸.",
    ),
    SignDefinition(
        "scorpio",
        "â™",
        "Ð¡ÐºÐ¾Ñ€Ð¿Ð¸Ð¾Ð½",
        "Ð²Ð¾Ð´Ð°",
        "ÐŸÐ¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¹, ÑƒÐ³Ð»ÑƒÐ±Ð»Ñ‘Ð½Ð½Ñ‹Ñ… Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ñ€ÐµÑÑƒÑ€ÑÐ°Ð¼Ð¸.",
        "Ð£Ð³Ð»ÑƒÐ±Ð»ÑÐµÑ‚ ÑÐ¼Ð¾Ñ†Ð¸Ð¸, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ ÑÐºÑ€Ñ‹Ñ‚Ð¾Ðµ Ð½Ð°Ñ€ÑƒÐ¶Ñƒ, ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ñ„Ð¾ÐºÑƒÑ.",
        "ÐŸÐ¾Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÐµÑÑŒ Ð² Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ, Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð², Ð´ÐµÑ‚Ð¾ÐºÑ, Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ Ð°ÑƒÐ´Ð¸Ñ‚.",
        "ÐÐµ Ð¿Ð¾Ð´Ð¾Ð³Ñ€ÐµÐ²Ð°Ð¹Ñ‚Ðµ Ð´Ñ€Ð°Ð¼Ñƒ Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ, ÑÐ»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ñ€ÐµÐ²Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ Ð½Ð°Ð²ÑÐ·Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒÑŽ.",
    ),
    SignDefinition(
        "sagittarius",
        "â™",
        "Ð¡Ñ‚Ñ€ÐµÐ»ÐµÑ†",
        "Ð¾Ð³Ð¾Ð½ÑŒ",
        "Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð¾Ð², Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ, Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ ÑÐ¼ÐµÐ»Ñ‹Ðµ Ð¿Ð»Ð°Ð½Ñ‹.",
        "Ð”Ð°Ñ€Ð¸Ñ‚ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¼ Ð¸ Ñ‚ÑÐ³Ñƒ Ðº Ð¿Ñ€Ð¸ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸ÑÐ¼, ÑƒÑÐºÐ¾Ñ€ÑÐµÑ‚ Ð¼Ñ‹ÑÐ»Ð¸.",
        "ÐŸÐ»Ð°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ, ÑƒÑ‡Ð¸Ñ‚ÐµÑÑŒ, Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²ÐµÐ½Ð¸ÐµÐ¼, Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐ¹Ñ‚Ðµ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸ÑŽ.",
        "ÐÐµ Ð¿ÐµÑ€ÐµÐ¾Ñ†ÐµÐ½Ð¸Ñ‚Ðµ ÑÐ¸Ð»Ñ‹: Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ Ñ„Ð°ÐºÑ‚Ñ‹ Ð¸ Ð±ÑŽÐ´Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ´ ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð¼.",
    ),
    SignDefinition(
        "capricorn",
        "â™‘",
        "ÐšÐ¾Ð·ÐµÑ€Ð¾Ð³",
        "Ð·ÐµÐ¼Ð»Ñ",
        "Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ, Ñ€ÐµÐ¿ÑƒÑ‚Ð°Ñ†Ð¸Ñ, ÐºÐ°Ñ€ÑŒÐµÑ€Ð½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¸ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€.",
        "Ð”ÐµÐ»Ð°ÐµÑ‚ Ð´ÐµÐ½ÑŒ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼, ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñƒ Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ.",
        "Ð Ð°Ð±Ð¾Ñ‚Ð°Ð¹Ñ‚Ðµ Ð½Ð°Ð´ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÐµÐ¹, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ Ð´Ð¾Ð»Ð³Ð¾ÑÑ€Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ, ÑƒÐºÑ€ÐµÐ¿Ð»ÑÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿ÑƒÑ‚Ð°Ñ†Ð¸ÑŽ.",
        "ÐÐµ ÑƒÑ…Ð¾Ð´Ð¸Ñ‚Ðµ Ð² Ð¶Ñ‘ÑÑ‚ÐºÐ¾ÑÑ‚ÑŒ Ð¸ Ð¿ÐµÑÑÐ¸Ð¼Ð¸Ð·Ð¼, Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð½Ð° Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ.",
    ),
    SignDefinition(
        "aquarius",
        "â™’",
        "Ð’Ð¾Ð´Ð¾Ð»ÐµÐ¹",
        "Ð²Ð¾Ð·Ð´ÑƒÑ…",
        "Ð˜Ð½Ð½Ð¾Ð²Ð°Ñ†Ð¸Ð¸, ÐºÐ¾Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸, digital Ð¸ Ð½ÐµÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹.",
        "Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚ Ð¸ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ, ÑÑ‚Ð¸Ð¼ÑƒÐ»Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ¾Ð»Ð»ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ.",
        "Ð—Ð°Ð¿ÑƒÑÐºÐ°Ð¹Ñ‚Ðµ Ð¸Ð½Ð½Ð¾Ð²Ð°Ñ†Ð¸Ð¸, Ð¾Ð±Ñ‰Ð°Ð¹Ñ‚ÐµÑÑŒ Ñ ÐºÐ¾Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸, Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹.",
        "ÐÐµ Ð¾Ñ‚Ñ€Ñ‹Ð²Ð°Ð¹Ñ‚ÐµÑÑŒ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¾Ñ‚ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ Ð¸Ð´ÐµÐ¸ Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐµ.",
    ),
    SignDefinition(
        "pisces",
        "â™“",
        "Ð Ñ‹Ð±Ñ‹",
        "Ð²Ð¾Ð´Ð°",
        "Ð¢Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾, Ð¸Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ, Ð·Ð°Ð±Ð¾Ñ‚Ð° Ð¾ Ð´ÑƒÑˆÐµ Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ñ†Ð¸ÐºÐ»Ð¾Ð².",
        "Ð Ð°Ð·Ð¼Ñ‹Ð²Ð°ÐµÑ‚ Ñ€Ð°Ð¼ÐºÐ¸, ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ ÑÐ¼Ð¿Ð°Ñ‚Ð¸ÑŽ Ð¸ ÑÑ‚Ñ€ÐµÐ¼Ð»ÐµÐ½Ð¸Ðµ Ðº Ð¼ÐµÑ‡Ñ‚Ð°Ð¼.",
        "Ð—Ð°Ð¹Ð¼Ð¸Ñ‚ÐµÑÑŒ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼, Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸ÑÐ¼Ð¸, Ð·Ð°Ð²ÐµÑ€ÑˆÐ°Ð¹Ñ‚Ðµ Ð´ÐµÐ»Ð° Ð¼ÑÐ³ÐºÐ¾, Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÑƒÐ¹Ñ‚Ðµ Ð·Ð°Ð±Ð¾Ñ‚Ñƒ Ð¾ ÑÐµÐ±Ðµ.",
        "Ð¡Ð»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ñ€Ð°ÑÑÐµÑÐ½Ð½Ð¾ÑÑ‚ÑŒÑŽ, Ð¸Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾Ð±ÐµÐ³Ð¾Ð² Ð² Ð¸Ð»Ð»ÑŽÐ·Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¸Ð½Ñ„Ð¾Ð¿ÐµÑ€ÐµÐ½Ð°ÑÑ‹Ñ‰ÐµÐ½Ð¸Ðµ.",
    ),
)


RATING_SCORES = {
    "avoid": 0,
    "neutral": 1,
    "good": 2,
    "great": 3,
}


def advice(
    *,
    rating: str,
    text: str,
    caution: str | None = None,
) -> PhaseAdvice:
    return PhaseAdvice(score=RATING_SCORES[rating], rating=rating, text=text, caution=caution)


ACTIONS: Sequence[ActionDefinition] = (
    ActionDefinition(
        slug="intentions_reset",
        emoji="ðŸ§­",
        title="ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸Ð¹",
        summary="Ð£Ñ‚Ð¾Ñ‡Ð½ÑÐµÐ¼ Ñ†ÐµÐ»Ð¸, Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐµÐ¼ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ñ‹ Ð¸ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¹ Ñ„Ð¾ÐºÑƒÑ.",
        categories=("ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ", "Ð¾ÑÐ¾Ð·Ð½Ð°Ð½Ð½Ð¾ÑÑ‚ÑŒ"),
        premium_only=False,
        phase_advice={
            "new_moon": advice(
                rating="great",
                text="ÐÐ¾Ð²Ð¾Ð»ÑƒÐ½Ð¸Ðµ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚ Ð¸ Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð½ Ñ†Ð¸ÐºÐ»Ñƒ â€” Ð²Ñ‹Ð´ÐµÐ»Ð¸Ñ‚Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚ Ð½Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸Ð¹.",
            ),
            "waning_crescent": advice(
                rating="good",
                text="Ð¡Ñ‚Ð°Ñ€ÐµÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ð·Ð°ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¼ÑÐ³ÐºÐ¾ Ð¾Ñ‚Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð»Ð¸ÑˆÐ½ÐµÐµ â€” Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÐ¿Ð¸ÑÐºÐ¸ Ð·Ð°Ð´Ð°Ñ‡ Ð¸ Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð°Ð¶Ð½Ð¾Ðµ.",
            ),
            "full_moon": advice(
                rating="avoid",
                text="ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ¶ÐµÐ½Ð¾ ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼Ð¸, Ð²Ñ‹ÑÐ¾Ðº Ñ€Ð¸ÑÐº Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ñ… Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹.",
                caution="ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ 1â€“2 Ð´Ð½Ñ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð±ÐµÐ· ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑˆÑƒÐ¼Ð°.",
            ),
        },
    ),
    ActionDefinition(
        slug="product_launch",
        emoji="ðŸš€",
        title="Ð¡Ñ‚Ð°Ñ€Ñ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°/ÐºÐ°Ð¼Ð¿Ð°Ð½Ð¸Ð¸",
        summary="Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚, Ñ„Ð¸Ñ‡Ñƒ Ð¸Ð»Ð¸ ÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Ð½Ð° Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸ÑŽ.",
        categories=("Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³"),
        premium_only=True,
        phase_advice={
            "waxing_crescent": advice(
                rating="good",
                text="Ð Ð°ÑÑ‚ÑƒÑ‰Ð¸Ð¹ ÑÐµÑ€Ð¿ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¼ÑÐ³ÐºÐ¸Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ Ð² Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ â€” Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑ‚ÑŒ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸ÑŽ.",
            ),
            "first_quarter": advice(
                rating="great",
                text="ÐŸÐµÑ€Ð²Ð°Ñ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ñ‚ÑŒ Ð´Ð°Ñ‘Ñ‚ Ð½Ð°Ð¿Ð¾Ñ€ Ð¸ ÑÐ½ÐµÑ€Ð³Ð¸ÑŽ â€” ÑÐ°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð³Ñ€Ð¾Ð¼ÐºÐ¾ Ð¾Ð±ÑŠÑÐ²Ð¸Ñ‚ÑŒ Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÐµ.",
            ),
            "waxing_gibbous": advice(
                rating="great",
                text="Ð Ð°ÑÑ‚ÑƒÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ â€” Ð´Ð¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð¹Ñ‚Ðµ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ð¹Ñ‚Ðµ.",
            ),
            "full_moon": advice(
                rating="good",
                text="ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸ÑŽ, Ð½Ð¾ Ð´ÐµÑ€Ð¶Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÐµÐ¼ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ð½.",
            ),
            "waning_crescent": advice(
                rating="avoid",
                text="Ð¡Ñ‚Ð°Ñ€ÐµÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ñ‚ÑÐ½ÐµÑ‚ Ñ‚Ð¾Ñ€Ð¼Ð¾Ð·Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹.",
                caution="Ð›ÑƒÑ‡ÑˆÐµ Ð¾Ñ‚Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑÐº Ð´Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ñ€Ð¾ÑÑ‚Ð°.",
            ),
        },
    ),
    ActionDefinition(
        slug="deep_focus_work",
        emoji="ðŸ§ ",
        title="Ð“Ð»ÑƒÐ±Ð¾ÐºÐ°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°",
        summary="Ð¡Ð»Ð¾Ð¶Ð½Ñ‹Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸, Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‰Ð¸Ðµ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¸ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ.",
        categories=("Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "Ñ„Ð¾ÐºÑƒÑ"),
        premium_only=False,
        phase_advice={
            "waxing_gibbous": advice(
                rating="great",
                text="Ð Ð°ÑÑ‚ÑƒÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð´Ð¾ÐºÑ€ÑƒÑ‚Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ðµ Ñ‡Ð°ÑÑ‚Ð¸ Ð¸ ÑƒÐ´ÐµÑ€Ð¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ.",
            ),
            "first_quarter": advice(
                rating="good",
                text="Ð­Ð½ÐµÑ€Ð³Ð¸Ñ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ñ‚Ð¸ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ¾Ð´Ð¾Ð»ÐµÑ‚ÑŒ ÑÐ¾Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð»ÐµÐ½Ð¸Ðµ â€” ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ðµ Ð±Ð»Ð¾ÐºÐ¸ Ð² Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ.",
            ),
            "waning_gibbous": advice(
                rating="good",
                text="Ð£Ð±Ñ‹Ð²Ð°ÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ñ€Ð°Ð·Ð±Ð¾Ñ€ Ð¿Ð¾Ð»Ñ‘Ñ‚Ð¾Ð² Ð¸ Ð´Ð¾Ð²Ð¾Ð´ÐºÑƒ.",
            ),
            "full_moon": advice(
                rating="avoid",
                text="Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ð½ Ð¼ÐµÑˆÐ°ÐµÑ‚ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾Ð¹ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ð¸.",
                caution="Ð¡Ð¼ÐµÑÑ‚Ð¸Ñ‚Ðµ deep work Ð½Ð° 1â€“2 Ð´Ð½Ñ Ð¸Ð»Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¼Ð¸ ÑÐ¿Ñ€Ð¸Ð½Ñ‚Ð°Ð¼Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="networking",
        emoji="ðŸ¤",
        title="ÐÐµÑ‚Ð²Ð¾Ñ€ÐºÐ¸Ð½Ð³ Ð¸ Ð¿ÐµÑ€ÐµÐ³Ð¾Ð²Ð¾Ñ€Ñ‹",
        summary="Ð’ÑÑ‚Ñ€ÐµÑ‡Ð¸, Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸, ÑÐ¾Ð·Ð²Ð¾Ð½ Ñ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€Ð°Ð¼Ð¸.",
        categories=("ÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ñ", "PR"),
        premium_only=False,
        phase_advice={
            "waxing_crescent": advice(
                rating="great",
                text="Ð Ð°ÑÑ‚ÑƒÑ‰Ð¸Ð¹ ÑÐµÑ€Ð¿ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑŒÑÑ Ð¸ Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð¸Ð´ÐµÑÐ¼Ð¸ Ð±ÐµÐ· Ð´Ð°Ð²Ð»ÐµÐ½Ð¸Ñ.",
            ),
            "first_quarter": advice(
                rating="good",
                text="ÐœÐ¾Ð¶Ð½Ð¾ Ð·Ð°ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ ÑÐ´ÐµÐ»ÐºÐ¸, ÐµÑÐ»Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ñ‹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹.",
            ),
            "full_moon": advice(
                rating="great",
                text="ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ñ…Ð°Ñ€Ð¸Ð·Ð¼Ñƒ â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¹ Ð¸ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð²Ñ‹ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ð¹.",
            ),
            "waning_crescent": advice(
                rating="avoid",
                text="Ð­Ð½ÐµÑ€Ð³Ð¸Ñ Ð½Ð° Ð¸ÑÑ…Ð¾Ð´Ðµ, Ð¼Ð¾Ð³ÑƒÑ‚ ÑÑ€Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ ÑÐ¾Ð·Ð²Ð¾Ð½Ñ‹.",
                caution="Ð›ÑƒÑ‡ÑˆÐµ ÑÑ„Ð¾ÐºÑƒÑÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÐºÐµ Ð¸ follow-up, Ð° Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð¿ÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="creative_brainstorm",
        emoji="ðŸŽ¨",
        title="ÐšÑ€ÐµÐ°Ñ‚Ð¸Ð² Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚",
        summary="Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ Ð¸Ð´ÐµÐ¸, Ð´ÐµÐ»Ð°ÐµÐ¼ ÑÑŠÐµÐ¼ÐºÐ¸, Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ð¼ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚.",
        categories=("Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾", "ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚"),
        premium_only=False,
        phase_advice={
            "waxing_crescent": advice(
                rating="good",
                text="Ð­ÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ, Ð½Ð°Ð±Ñ€Ð°ÑÑ‹Ð²Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸.",
            ),
            "waxing_gibbous": advice(
                rating="great",
                text="Ð¤Ð°Ð·Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð´Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð´Ð¾ ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½ÑÑ‚Ð²Ð° â€” Ð¼Ð¾Ð½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ, Ð²ÐµÑ€ÑÑ‚Ð°Ð¹Ñ‚Ðµ, Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ð¹Ñ‚Ðµ.",
            ),
            "full_moon": advice(
                rating="great",
                text="ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð² Ð¿Ð¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ Ð½Ð°Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð²Ð¾Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ â€” Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°Ð¼Ð¸ Ð¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑÐ¼Ð¸.",
            ),
            "waning_crescent": advice(
                rating="neutral",
                text="ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ñ‹Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð°Ñ€Ñ…Ð¸Ð²Ð½Ð¾Ðµ, ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð¿Ð¾Ð´Ð±Ð¾Ñ€ÐºÑƒ best of Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð¾Ñ…Ð½ÑƒÑ‚ÑŒ.",
            ),
        },
    ),
    ActionDefinition(
        slug="relationship_quality_time",
        emoji="ðŸ’ž",
        title="ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ð¸ Ñ€Ð¾Ð¼Ð°Ð½Ñ‚Ð¸ÐºÐ°",
        summary="Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¿Ð»Ð°Ð½Ñ‹, ÑÐ²Ð¸Ð´Ð°Ð½Ð¸Ñ, Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¸Ðµ Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ñ‹ Ð¸ ÑƒÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ðµ ÑÐ²ÑÐ·Ð¸.",
        categories=("Ð»Ð¸Ñ‡Ð½Ð¾Ðµ", "Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ"),
        premium_only=False,
        phase_advice={
            "waxing_gibbous": advice(
                rating="good",
                text="ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚Ðµ ÑÑŽÑ€Ð¿Ñ€Ð¸Ð· Ð¸Ð»Ð¸ Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€ Ð¾ Ð±ÑƒÐ´ÑƒÑ‰Ð¸Ñ… Ð¿Ð»Ð°Ð½Ð°Ñ… â€” Ñ€Ð°ÑÑ‚ÑƒÑ‰Ð°Ñ ÑÐ½ÐµÑ€Ð³Ð¸Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ñ‚.",
            ),
            "full_moon": advice(
                rating="great",
                text="ÐŸÐ¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¸ÐºÐ° Ð¸ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ðº Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€Ñƒ.",
            ),
            "waning_gibbous": advice(
                rating="good",
                text="ÐŸÐ¾Ñ€Ð° Ð¾Ð±ÑÑƒÐ´Ð¸Ñ‚ÑŒ Ð¾Ð¿Ñ‹Ñ‚, Ð¿Ð¾Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð¸Ñ‚ÑŒ Ð¸ ÑƒÐºÑ€ÐµÐ¿Ð¸Ñ‚ÑŒ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ñ‘Ð½Ð½Ð¾ÑÑ‚Ð¸.",
            ),
            "first_quarter": advice(
                rating="avoid",
                text="Ð¤Ð°Ð·Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð²Ð¾Ñ†Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ Ð¸Ð·-Ð·Ð° Ð´Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð´ÐµÐ».",
                caution="ÐŸÐµÑ€ÐµÐ½Ð¾ÑÐ¸Ñ‚Ðµ ÑÐµÑ€ÑŒÑ‘Ð·Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ñ‹ Ð½Ð° Ð´Ð½Ð¸ Ñ Ð¼ÑÐ³ÐºÐ¾Ð¹ ÑÐ½ÐµÑ€Ð³Ð¸ÐµÐ¹.",
            ),
        },
    ),
    ActionDefinition(
        slug="selfcare_reset",
        emoji="ðŸ§–",
        title="Ð¡Ð°Ð¼Ð¾Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸Ðµ Ð¸ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ",
        summary="Ð Ð¸Ñ‚ÑƒÐ°Ð»Ñ‹ ÑƒÑ…Ð¾Ð´Ð° Ð·Ð° Ñ‚ÐµÐ»Ð¾Ð¼, ÑÐ¾Ð½, SPA, Ð¾Ñ‚Ð´Ñ‹Ñ… Ð±ÐµÐ· Ð³Ð°Ð´Ð¶ÐµÑ‚Ð¾Ð².",
        categories=("Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ", "Ð±Ð°Ð»Ð°Ð½Ñ"),
        premium_only=False,
        phase_advice={
            "waning_crescent": advice(
                rating="great",
                text="Ð¡Ñ‚Ð°Ñ€ÐµÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ ÑÐ½Ð¸Ð·Ð¸Ñ‚ÑŒ Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚Ñ‹ â€” Ð²Ñ‹Ð´ÐµÐ»Ð¸Ñ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð½Ð° Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ.",
            ),
            "waning_gibbous": advice(
                rating="good",
                text="ÐŸÐ¾ÑÐ»Ðµ Ð¿Ð¸ÐºÐ¾Ð²Ñ‹Ñ… Ð½Ð°Ð³Ñ€ÑƒÐ·Ð¾Ðº ÑÐ°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð´Ð¾Ñ…Ð½ÑƒÑ‚ÑŒ Ð¸ Ð¿Ð¾Ð±Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚ÐµÐ»Ð¾.",
            ),
            "new_moon": advice(
                rating="good",
                text="ÐœÑÐ³ÐºÐ¸Ð¹ Ð´ÐµÑ‚Ð¾ÐºÑ Ð¸ ÑÐ¾Ð½ Ð¿Ð¾Ð¼Ð¾Ð³ÑƒÑ‚ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ†Ð¸ÐºÐ» Ð² Ñ€ÐµÑÑƒÑ€ÑÐ½Ð¾Ð¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="fitness_drive",
        emoji="ðŸƒ",
        title="Ð¡Ð¿Ð¾Ñ€Ñ‚ Ð¸ ÑÐ½ÐµÑ€Ð³Ð¸Ñ Ñ‚ÐµÐ»Ð°",
        summary="Ð˜Ð½Ñ‚ÐµÐ½ÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸, Ñ‡ÐµÐ»Ð»ÐµÐ½Ð´Ð¶Ð¸, Ð½Ð¾Ð²Ñ‹Ðµ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸.",
        categories=("Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ", "ÑÐ½ÐµÑ€Ð³Ð¸Ñ"),
        premium_only=True,
        phase_advice={
            "waxing_crescent": advice(
                rating="good",
                text="ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½ Ð¸ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ¸Ð²Ð½Ð¾ Ð½Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒÑÑ.",
            ),
            "first_quarter": advice(
                rating="great",
                text="Ð¤Ð°Ð·Ð° Ð¿Ð¾Ð´Ð¶Ð¸Ð³Ð°ÐµÑ‚ Ð´Ñ€Ð°Ð¹Ð² â€” Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ ÑÐ¸Ð»Ð¾Ð²Ñ‹Ñ… Ð¸ HIIT.",
            ),
            "full_moon": advice(
                rating="good",
                text="Ð’Ñ‹Ð¿Ð»ÐµÑÐ½Ð¸Ñ‚Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ, Ð½Ð¾ ÑÐ»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒÑŽ.",
            ),
            "waning_crescent": advice(
                rating="avoid",
                text="ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð¼ Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°.",
                caution="Ð›ÑƒÑ‡ÑˆÐµ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÐ½ÑÐ¸Ð² Ð½Ð° Ñ€Ð°ÑÑ‚ÑÐ¶ÐºÑƒ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾Ð³ÑƒÐ»ÐºÑƒ.",
            ),
        },
    ),
    ActionDefinition(
        slug="financial_review",
        emoji="ðŸ’°",
        title="Ð¤Ð¸Ð½Ð°Ð½ÑÑ‹ Ð¸ Ð±ÑŽÐ´Ð¶ÐµÑ‚",
        summary="ÐŸÐµÑ€ÐµÑÐ¼Ð¾Ñ‚Ñ€ Ð±ÑŽÐ´Ð¶ÐµÑ‚Ð°, Ñ€Ð°ÑÑ‡Ñ‘Ñ‚ Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¹, Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸, Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð´Ð¾Ñ…Ð¾Ð´Ð¾Ð².",
        categories=("Ñ„Ð¸Ð½Ð°Ð½ÑÑ‹", "ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ"),
        premium_only=False,
        phase_advice={
            "waning_gibbous": advice(
                rating="great",
                text="Ð£Ð±Ñ‹Ð²Ð°ÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð°Ð½Ð°Ð»Ð¸Ð· Ñ†Ð¸Ñ„Ñ€ Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ñ€Ð°ÑÑ…Ð¾Ð´Ð¾Ð².",
            ),
            "last_quarter": advice(
                rating="great",
                text="Ð¤Ð°Ð·Ð° Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑÐ¼Ð¾Ñ‚Ñ€Ð¾Ð² Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ Â«Ñ‡Ñ‚Ð¾ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ ÑƒÐ±Ñ€Ð°Ñ‚ÑŒÂ».",
            ),
            "new_moon": advice(
                rating="good",
                text="Ð—Ð°Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ðµ Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ Ð¸ Ð»Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ð½Ð° Ð½Ð¾Ð²Ñ‹Ð¹ Ñ†Ð¸ÐºÐ».",
            ),
        },
    ),
    ActionDefinition(
        slug="learning_focus",
        emoji="ðŸ“š",
        title="ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ Ð°Ð¿Ð³Ñ€ÐµÐ¹Ð´ Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð²",
        summary="ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ ÐºÑƒÑ€ÑÑ‹, Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ, ÑÐ¾Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð½Ð°Ð²Ñ‹ÐºÐ¸.",
        categories=("Ñ€Ð¾ÑÑ‚", "Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ"),
        premium_only=False,
        phase_advice={
            "new_moon": advice(
                rating="good",
                text="ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÑƒÑ€Ñ Ð¸Ð»Ð¸ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ Ð½Ð° Ð¼ÐµÑÑÑ†.",
            ),
            "waxing_crescent": advice(
                rating="great",
                text="Ð£Ñ‡Ð¸Ñ‚ÐµÑÑŒ Ñ‡ÐµÑ€ÐµÐ· Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ, ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ð¸Ð½ÑÐ°Ð¹Ñ‚Ð°Ð¼Ð¸.",
            ),
            "first_quarter": advice(
                rating="good",
                text="Ð¡Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹, Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÑÐ¹Ñ‚Ðµ Ð·Ð½Ð°Ð½Ð¸Ñ.",
            ),
            "waning_crescent": advice(
                rating="neutral",
                text="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹, Ð·Ð°ÐºÐ¾Ð½ÑÐ¿ÐµÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ñ‚Ð¾Ð³Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="team_alignment",
        emoji="ðŸ§©",
        title="Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹",
        summary="ÐŸÐ»Ð°Ð½Ñ‘Ñ€ÐºÐ¸, Ñ€ÐµÑ‚Ñ€Ð¾ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ñ‹, Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ€Ð¾Ð»ÐµÐ¹, ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¼Ð¸Ñ‚Ð¸Ð½Ð³Ð¸.",
        categories=("Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°"),
        premium_only=True,
        phase_advice={
            "first_quarter": advice(
                rating="great",
                text="ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ð¸ Ñ‡Ñ‘Ñ‚ÐºÐ¸Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ â€” Ð½Ð°Ð·Ð½Ð°Ñ‡ÑŒÑ‚Ðµ Ð¿Ð»Ð°Ð½Ñ‘Ñ€ÐºÑƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ±Ñ€Ð°Ñ‚ÑŒ Ð±Ð»Ð¾ÐºÐµÑ€Ñ‹.",
            ),
            "waxing_gibbous": advice(
                rating="good",
                text="ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹, ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð¿ÐµÑ€ÐµÐ´ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð¼.",
            ),
            "waning_gibbous": advice(
                rating="great",
                text="Ð’Ñ€ÐµÐ¼Ñ Ñ€ÐµÑ‚Ñ€Ð¾ÑÐ¿ÐµÐºÑ‚Ð¸Ð² Ð¸ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð² â€” Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð°Ñ Ñ„Ð°Ð·Ð°.",
            ),
            "waning_crescent": advice(
                rating="avoid",
                text="Ð¡Ð»Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð²ÑÐµÑ… Ð¸ ÑƒÐ´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ.",
                caution="Ð›ÑƒÑ‡ÑˆÐµ Ð¿Ñ€Ð¾Ð²ÐµÑÑ‚Ð¸ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÑƒÑŽ check-in Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="home_declutter",
        emoji="ðŸ¡",
        title="Ð”Ð¾Ð¼ Ð¸ Ñ€Ð°ÑÑ…Ð»Ð°Ð¼Ð»ÐµÐ½Ð¸Ðµ",
        summary="Ð Ð°Ð·Ð±Ð¾Ñ€ Ð²ÐµÑ‰ÐµÐ¹, ÑƒÐ±Ð¾Ñ€ÐºÐ°, ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑƒÑŽÑ‚Ð°, Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ.",
        categories=("Ð´Ð¾Ð¼", "Ð±Ð°Ð»Ð°Ð½Ñ"),
        premium_only=False,
        phase_advice={
            "waning_gibbous": advice(
                rating="great",
                text="Ð£Ð±Ñ‹Ð²Ð°ÑŽÑ‰Ð°Ñ Ð»ÑƒÐ½Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¾ÑÐ²Ð¾Ð±Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ð° Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸ÑŽ.",
            ),
            "last_quarter": advice(
                rating="good",
                text="ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ€ÐµÐ²Ð¸Ð·Ð¸ÑŽ, Ð¾Ñ‚Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð»Ð¸ÑˆÐ½ÐµÐµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº.",
            ),
            "new_moon": advice(
                rating="good",
                text="ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ†Ð¸ÐºÐ»Ð° Ð»ÐµÐ³Ñ‡Ðµ Ð²Ð½ÐµÐ´Ñ€ÑÑ‚ÑŒ Ð² Ñ‡Ð¸ÑÑ‚Ð¾Ð¼ Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ðµ.",
            ),
        },
    ),
    ActionDefinition(
        slug="travel_planning",
        emoji="ðŸ§³",
        title="ÐŸÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ñ",
        summary="ÐŸÐ»Ð°Ð½ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº, Ð±Ñ€Ð¾Ð½Ð¸, ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸Ñ€Ð¾Ð²ÐºÐ¸, ÑÐ¼ÐµÐ½Ð° Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸.",
        categories=("Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ", "Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ"),
        premium_only=True,
        phase_advice={
            "waxing_crescent": advice(
                rating="good",
                text="ÐœÐ¾Ð¶Ð½Ð¾ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ Ð¾Ð±ÑÑƒÐ¶Ð´Ð°Ñ‚ÑŒ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ â€” ÑÐ½ÐµÑ€Ð³Ð¸Ñ Ñ€Ð¾ÑÑ‚Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚.",
            ),
            "first_quarter": advice(
                rating="great",
                text="ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ð´ÐµÐ»Ð¾Ð²Ñ‹Ðµ Ð¿Ð¾ÐµÐ·Ð´ÐºÐ¸ Ð¸ ÑÐºÑÐ¿ÐµÐ´Ð¸Ñ†Ð¸Ð¸.",
            ),
            "full_moon": advice(
                rating="good",
                text="ÐŸÐ¸Ðº ÑÐ¼Ð¾Ñ†Ð¸Ð¹ â€” Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ð³Ð¾ Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð»ÑÑŽÑ‰ÐµÐ³Ð¾ Ñ‚Ñ€Ð¸Ð¿Ð°.",
            ),
            "waning_gibbous": advice(
                rating="neutral",
                text="Ð›ÑƒÑ‡ÑˆÐµ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ, Ñ‡ÐµÐ¼ ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ.",
            ),
        },
    ),
    ActionDefinition(
        slug="spiritual_practice",
        emoji="ðŸª·",
        title="Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ð¸ Ð´ÑƒÑ…Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸",
        summary="ÐœÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ñ, Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð´Ð½ÐµÐ²Ð½Ð¸ÐºÐ°, Ð´Ñ‹Ñ…Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð¸ Ñ€Ð¸Ñ‚ÑƒÐ°Ð»Ñ‹.",
        categories=("Ð¾ÑÐ¾Ð·Ð½Ð°Ð½Ð½Ð¾ÑÑ‚ÑŒ", "Ð±Ð°Ð»Ð°Ð½Ñ"),
        premium_only=False,
        phase_advice={
            "new_moon": advice(
                rating="great",
                text="Ð¡Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸ÑŽ, Ð¿Ñ€Ð¾Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¸Ð½ÑÐ°Ð¹Ñ‚Ñ‹ Ð² Ð´Ð½ÐµÐ²Ð½Ð¸Ðº.",
            ),
            "waning_crescent": advice(
                rating="great",
                text="Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ð¸Ñ, Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¼ÑÐ³ÐºÐ¸Ñ… Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ðº.",
            ),
            "full_moon": advice(
                rating="good",
                text="ÐœÐ¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑÑ‚Ð¸ Ñ€Ð¸Ñ‚ÑƒÐ°Ð» Ð¾Ñ‚Ð¿ÑƒÑÐºÐ°Ð½Ð¸Ñ Ð¸ Ð·Ð°Ñ€ÑÐ´Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð»Ð¸ÑÐ¼Ð°Ð½Ñ‹.",
            ),
        },
    ),
    ActionDefinition(
        slug="health_check",
        emoji="ðŸ©º",
        title="Ð—Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ Ð¸ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°",
        summary="Ð§ÐµÐºÐ°Ð¿Ñ‹, ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸Ð¸ Ñ Ð²Ñ€Ð°Ñ‡Ð°Ð¼Ð¸, ÑÐ´Ð°Ñ‡Ð° Ð°Ð½Ð°Ð»Ð¸Ð·Ð¾Ð², Ð¿Ð¾Ð´Ð±Ð¾Ñ€ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚Ð¾Ð².",
        categories=("Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ", "Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ"),
        premium_only=True,
        phase_advice={
            "waning_gibbous": advice(
                rating="good",
                text="Ð’Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð².",
            ),
            "last_quarter": advice(
                rating="great",
                text="Ð¤Ð°Ð·Ð° Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑÐ¼Ð¾Ñ‚Ñ€Ð° Ñ€ÐµÐ¶Ð¸Ð¼Ð°, ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¸ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ð¸.",
            ),
            "new_moon": advice(
                rating="good",
                text="Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ Ð¸ Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ñ.",
            ),
            "full_moon": advice(
                rating="avoid",
                text="ÐŸÐ¾Ð²Ñ‹ÑˆÐµÐ½Ð½Ð°Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ â€” Ð»ÑƒÑ‡ÑˆÐµ Ð¸Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€.",
                caution="ÐŸÐµÑ€ÐµÐ½ÐµÑÐ¸Ñ‚Ðµ Ñ‡ÐµÐºÐ°Ð¿Ñ‹ Ð½Ð° Ð±Ð¾Ð»ÐµÐµ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹Ðµ Ð´Ð½Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="retro_review",
        emoji="ðŸ“¦",
        title="Ð Ð°Ð·Ð±Ð¾Ñ€ ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",
        summary="Ð—Ð°ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ñ…Ð²Ð¾ÑÑ‚Ñ‹, Ð°Ñ€Ñ…Ð¸Ð²Ð¸Ñ€ÑƒÐµÐ¼ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ÑÑ Ðº Ð½ÐµÐ´Ð¾Ð´ÐµÐ»ÐºÐ°Ð¼.",
        categories=("Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "Ñ‡Ð¸ÑÑ‚ÐºÐ°"),
        premium_only=False,
        phase_advice={
            "waning_gibbous": advice(
                rating="great",
                text="Ð¡Ð°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð·Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ…Ð²Ð¾ÑÑ‚Ñ‹ Ð¸ Ð²Ñ‹Ð½ÐµÑÑ‚Ð¸ ÑƒÑ€Ð¾ÐºÐ¸.",
            ),
            "last_quarter": advice(
                rating="great",
                text="ÐŸÐ¾Ð´Ð²Ð¾Ð´Ð¸Ð¼ Ð¸Ñ‚Ð¾Ð³Ð¸ Ð¸ Ñ€ÐµÑˆÐ°ÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² Ð°Ñ€Ñ…Ð¸Ð².",
            ),
            "waning_crescent": advice(
                rating="good",
                text="Ð¡Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‡ÐµÐº, Ñ€Ð°ÑÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ñ‚Ð¾Ñ‡ÐºÐ¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="data_analysis",
        emoji="ðŸ“Š",
        title="ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ° Ð¸ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸",
        summary="Ð¡Ð±Ð¾Ñ€ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹, Ð°ÑƒÐ´Ð¸Ñ‚ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð², Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð².",
        categories=("Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°"),
        premium_only=True,
        phase_advice={
            "waxing_gibbous": advice(
                rating="good",
                text="ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸ Ð¿ÐµÑ€ÐµÐ´ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾Ð¹ Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹.",
            ),
            "waning_gibbous": advice(
                rating="great",
                text="Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð°Ñ Ñ„Ð°Ð·Ð° Ð´Ð»Ñ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð¸ Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð².",
            ),
            "last_quarter": advice(
                rating="great",
                text="Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¸Ð½ÑÐ°Ð¹Ñ‚Ñ‹ Ð´Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="community_events",
        emoji="ðŸŽ‰",
        title="Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð° Ð¸ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ",
        summary="ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð²ÑÑ‚Ñ€ÐµÑ‡, ÑÑ„Ð¸Ñ€Ð¾Ð², Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ð¹ Ð¸ Ð·Ð°Ð¿ÑƒÑÐº ÐºÐ¾Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸-Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÐµÐ¹.",
        categories=("ÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ñ", "ÐºÐ¾Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸"),
        premium_only=True,
        phase_advice={
            "waxing_crescent": advice(
                rating="good",
                text="ÐžÐ±ÑŠÑÐ²Ð¸Ñ‚Ðµ Ð¾ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ð¸, Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐ°Ð¹Ñ‚Ðµ Ð³Ð¾ÑÑ‚ÐµÐ¹.",
            ),
            "full_moon": advice(
                rating="great",
                text="ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð² Ð¿Ð¸Ðº Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ â€” ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð¸ Ð²Ð¾Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸.",
            ),
            "waning_gibbous": advice(
                rating="good",
                text="ÐŸÐ¾Ð´Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ñ‚Ð¾Ð³Ð¸, ÑÐ¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð±Ñ€Ð°Ñ‚Ð½ÑƒÑŽ ÑÐ²ÑÐ·ÑŒ, ÑƒÐºÑ€ÐµÐ¿Ð¸Ñ‚Ðµ ÑÐ²ÑÐ·Ð¸.",
            ),
        },
    ),
    ActionDefinition(
        slug="digital_detox",
        emoji="ðŸ“µ",
        title="Digital-Ð´ÐµÑ‚Ð¾ÐºÑ",
        summary="ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ð¾Ñ‚ ÑÐ¾Ñ†ÑÐµÑ‚ÐµÐ¹, ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹, Ð¿ÐµÑ€ÐµÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÐ¼ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ñ‹Ðµ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹.",
        categories=("Ð±Ð°Ð»Ð°Ð½Ñ", "Ð¾ÑÐ¾Ð·Ð½Ð°Ð½Ð½Ð¾ÑÑ‚ÑŒ"),
        premium_only=False,
        phase_advice={
            "waning_crescent": advice(
                rating="great",
                text="Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð³Ð¾Ð»Ð¾Ð²Ñƒ Ð¸ ÑÐ½Ð¸Ð·Ð¸Ñ‚ÑŒ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ.",
            ),
            "new_moon": advice(
                rating="good",
                text="Ð¡Ñ‚Ð°Ñ€Ñ‚ÑƒÐ¹Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð¹ Ñ€Ð°ÑÐ¿Ð¾Ñ€ÑÐ´Ð¾Ðº, Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½ÑƒÐ¶Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹.",
            ),
            "full_moon": advice(
                rating="neutral",
                text="Ð•ÑÐ»Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚Ðµ Ð¿ÐµÑ€ÐµÐ½Ð°ÑÑ‹Ñ‰ÐµÐ½Ð¸Ðµ, ÑƒÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð²ÐµÑ‡ÐµÑ€ Ð±ÐµÐ· ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹.",
            ),
        },
    ),
)


ACTION_INDEX: Dict[str, ActionDefinition] = {action.slug: action for action in ACTIONS}


class LunarPlannerService:
    def __init__(self, ephemeris: EphemerisService = ephemeris_service):
        self.ephemeris = ephemeris

    def build_window(self, *, start: date, tz_name: str, days: int = 5) -> List[DayContext]:
        contexts: List[DayContext] = []
        current = start
        for _ in range(days):
            contexts.append(self._compute_day(current, tz_name))
            current += timedelta(days=1)
        return contexts

    def select_actions(
        self,
        *,
        day: DayContext,
        is_premium: bool,
        limit: int,
    ) -> List[ActionSuggestion]:
        candidates: List[ActionSuggestion] = []
        for action in ACTIONS:
            if action.premium_only and not is_premium:
                continue
            advice_for_phase = action.phase_advice.get(day.phase.key)
            if advice_for_phase is None:
                advice_for_phase = PhaseAdvice(
                    score=RATING_SCORES["neutral"],
                    rating="neutral",
                    text=action.summary,
                )
            candidates.append(ActionSuggestion(action=action, advice=advice_for_phase))

        candidates.sort(
            key=lambda item: (
                item.advice.score,
                -len(item.action.categories),
                item.action.slug,
            ),
            reverse=True,
        )

        preferred = [item for item in candidates if item.advice.score >= 2]
        if not preferred:
            preferred = [item for item in candidates if item.advice.score >= 1]
        if not preferred:
            preferred = candidates[:limit]

        return preferred[:limit]

    def get_action(self, slug: str) -> ActionDefinition | None:
        return ACTION_INDEX.get(slug)

    def get_action_advice(self, *, slug: str, phase: str) -> PhaseAdvice | None:
        action = self.get_action(slug)
        if not action:
            return None
        return action.phase_advice.get(phase)

    def _compute_day(self, target_date: date, tz_name: str) -> DayContext:
        dt_local = datetime.combine(target_date, time(hour=12, minute=0))
        if ZoneInfo is not None:
            try:
                tz = ZoneInfo(tz_name)
                dt_local = dt_local.replace(tzinfo=tz)
            except Exception:
                dt_local = dt_local.replace(tzinfo=timezone.utc)
        else:
            dt_local = dt_local.replace(tzinfo=timezone.utc)
        dt_utc = dt_local.astimezone(timezone.utc).replace(tzinfo=None)
        sun_moon = self.ephemeris.get_ephemeris(dt_utc, planets=(const.SUN, const.MOON))
        sun_lon = float(sun_moon[const.SUN].lon)
        moon_lon = float(sun_moon[const.MOON].lon)
        angle = (moon_lon - sun_lon) % 360.0
        phase = self._phase_from_angle(angle)
        illumination = int(round((1 - cos(radians(angle))) * 50))
        sign_index = int(moon_lon // 30) % 12
        moon_sign = SIGN_DEFINITIONS[sign_index]
        return DayContext(
            date=target_date,
            phase=phase,
            moon_sign=moon_sign,
            illumination=min(max(illumination, 0), 100),
            angle=angle,
        )

    @staticmethod
    def _phase_from_angle(angle: float) -> PhaseDefinition:
        if angle < 20 or angle >= 340:
            return PHASES["new_moon"]
        if angle < 70:
            return PHASES["waxing_crescent"]
        if angle < 110:
            return PHASES["first_quarter"]
        if angle < 160:
            return PHASES["waxing_gibbous"]
        if angle < 200:
            return PHASES["full_moon"]
        if angle < 250:
            return PHASES["waning_gibbous"]
        if angle < 300:
            return PHASES["last_quarter"]
        return PHASES["waning_crescent"]


lunar_planner_service = LunarPlannerService()


