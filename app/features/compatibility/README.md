# Совместимость

## Назначение
- Считает совместимость двух людей по датам рождения на основе жизненных чисел.
- Ограничивает количество расчётов для бесплатных пользователей.

## Основные обработчики
- `router.py::compatibility_command` — запускает сценарий, запрашивает первую дату.
- `router.py::handle_first_date` — валидирует первую дату, переводит пользователя к вводу второй.
- `router.py::handle_second_date` — валидирует вторую дату, рассчитывает совместимость и выводит результат.

## Логика
- Использует `app.shared.calculations.calculate_life_path_number` для вычисления чисел судьбы.
- Лимиты проверяются через `user_storage.can_check_compatibility`.
- Результат дополняется inline-клавиатурой `get_compatibility_result_keyboard`.

